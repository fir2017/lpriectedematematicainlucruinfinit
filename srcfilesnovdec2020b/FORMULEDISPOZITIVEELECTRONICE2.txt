//pagina 101 tbj

//tensiunile
//vbe -vbc vce 
//alimentari
//vcc
//curenti
//ie ic ib
//rezistente
//rb rc
//polarizare la npn
//b +
//e gnd - - 
//c +



//caracteristici si parametrii
 
float betacc(float IC, float IB)
{
return IC/IB;
}


//parametrii hibrizi

float hfe(float betacc)
{
	return betacc
}

//alfa subunitar
float alfacc(float IC, float IE)
{
	return CI/IE;
}

//relatia intre betacc si alfacc

float IE(float IC, float IB)
{
	return IC+IB;
}

bool relatieAlfaBeta(float alfacc, float betacc)
{
	if((1/alfacc) == (1+(1/betacc)))
	{ 
		return true;
	}
	else
 	{
		return false;
	}
}

float betacc(float alfacc)
{
	return alfacc/(1-alfacc);
}

//analza curentilor si a tensiunilor

float VB(float potentialDeBariera)
{
	return potentialDeBariera;
}

float VRB(float VBB, float VBE)
{
	return VBB-VBE;
}

float VRB(float IB, float RB)
{
	return IB*RB;
}

float IB(float VBB, float VBEm float RB)
{
	return (VBB-VBE)/RB;
}

float VRC(float IC, float RC)
{
	return IC*RC;
}

float VCE(float VCC, float IC, float RC)
{
	return VCC-IC*RC;
}

float IC(float betacc,float IB)
{
	return betacc*IB;
}

float VCB(float VCE, float VBE)
{
	return VCE - VBE;
}


//caracteristicile curentului de colector IC
//graficul IC si VCE
//regiuni
//saturatie 0 ... prag
//activa prag ... vcemax
//strapungere >vcemax
//inversa <0


//regim de glocare

bool eBlocat(float IB=0, float ICEO, float VCE, float VCC)
{
	if(IB==0)
	{
	return true;
	}
	else if(ICEO/100<1)
	{
		return true;
	}
	else if(VCE==VCC)
	{
		return true;
	}
	else
	{
		return false;
	}
}


//regimul de saturatie
float VCE(float VCC, float betacc, float IB)
{
	return VCC-(betacc*IB);
}

float VCEsat(float VCC, float IC, float RC)
{
	return VCC-(IC*RC);	
}

//dreapat de sarcina 
//saturatie VCEsat la ICsat 
//blocare VCC pe VCE
float ICsat(float VCC, float VCEsat, float RC)
{
	return (VCC-VCEsat)/RC;
}


float IB(float VBB, float VBE, float RB)
{
	return (VBB-VBE)/RB;
}


//beta cc variatia cu TJ
//temperatura jonctiunii TJ


//tbj valori limita absolute
float IC(float PDMAX, float VCE)
{
	return PDMAX/VCE;
}

float VCE(float PDMAX, float IC)
{
	return PDMAX/IC;
}

//curba puterii disipate maxime
//graficul icmax pe vce
//limita icmax a b c d vcemax;

float VRC(float IC, float RC)
{
	return IC*RC;
}

float VRC(float VCC, float VCE)
{
	return VCC-VCE;
}

float VCCmax(float VCEmax, float VRC)
{
	return VCEmax + VRC;
}

float PD(float VCEmax, float IC)
{
	return VCEmax*IC;
}

//corectare pdmax 
//pdmax la 25oC

float deltaPDmax(float CoefCorectie, float temp1, float temp25)
{
	return CoefCorectie*(temp1-temp25);
}

float PDmaxCorectata(float PDmax, float deltaPDmax)
{
	return PDmax - deltaPDmax;
}

// tbj
//functia de amplificare


//marimi de cc si de ca ale tbj
//curenti , tensiuni , rezistente , potentiale 
//Vinca, VBBcc Vb Vc
//RC RB re
//VCC


//circutul tbj echivalent de curent alternativ

float Ic(float Ie)
{
	return Ie;
}

float Ie(float Vb, float re)
{
 return Vb/re;
}

float Vc(float Ic, float RC)
{
	return Ic*RC;
}
//pt Ic aproximativ egal Ie
float Vc(float Ie, float RC)
{
	return Ie*RC;
}

float Vb(float Vin, float Ib,float RB)
{
	return Vin - Ib*RB;
}

//amplificarea in tensiune in ca 
//al tbjca
float Av(float Vc, float Vb)
{
	return Vc/Vb;
}

float Av2(float Ie, float RC, float re)
{
	return (Ie*RC)/(Ie*re);
}
float Av3( float RC, float re)
{
	return RC/re;
}

//re rezistenta interna in emitor a tbjca

//functionarea in comutatie 

//conditii de blocare
float VCEBlocare(float VCC)
{
	return VCC;
}

//conditia de saturare

float ICsat(float VCC, float VCEsat, float RC)
{
return (VCC-VCEsat)/RC;
}

float IBmin(float ICsat, float betacc)
{
	return ICsat / betacc;

}

float VRB(float VIN, float VBE)
{
	return VIN - VBE;
}


float RBmax(float VRB, float IBmin)
{
	return VRB / IBmin;
}

float IB(float VRB, float RB)
{
	return VRB/RB;
}

float Vin(float IBmin, float RB, float potentialDeBariera)
{
	return 2 * IBmin * RB + potentialDeBariera;
}

//pagina 130
//circuite de polarizare cu tbj
//psd punctul static de functionare
//alimentarea in cc
//amplificator cu tbj
//taiere superioara la blocare si inferioara la saturare a vout
//grafic ic la vce

float VCE(float VCC, float IC, float RC)
{
return VCC-IC*RC;
}

//dreapta de sarcina in cc
//dreapta de la IC A Q sau PSF centrat B VCE
//PSD ICQ si VCEQ
float IC(float VCC, float RC)
{
return VCC/RC;
}

float ICneliniar(float RC, float VCE, float VCC, float RC)
{
	return -(1/RC)*VCE+(VCC/RC);
}

//functionarea liniara

float ICQ(float betacc, float IBQ)
{
	return betacc*IBQ;
}

float IBQ(float VBB, float potentialDeBariera, floar RB)
{
	return (VBB-potentialDeBariera)/RB;
}

float VCEQ(float VCC, float ICQ, float RC)
{
	return VCC - ICQ*RC;
}

//distorsionarea formelor de unda
//tranzistor in saturatie
//tbj in blocare
//tbj atat in blocare cat si in saturatie

float CrestereIC(float ICsat, float ICQ)
{
	return ICsat = ICQ;
}

float Ibvarf(float Icvarf, float betacc)
{
	return Icvarf / betacc;
}



//polarizarea bazei de la VCC

float IB(float VCC, float VBE, float RB)
{
	return (VCC-VBE)/RB;	
}

 float VCE( float VCC,  float IC,  float RC)
{
	return VCC- IC*RC;
}

float IC( float betacc,  float  VBE,  float  RB)
{
	return betacc*((VCC-VBE)/RB);
}

//influenta betacc asupra PSF

 float VCE( float VC,  float IC,  float RC)
{
	return VCC- IC*RC;
}

//variatia ic si vb cu temperatura
float deltaIC(float IC75,  float IC25)
{
	return ((IC75-IC25)/IC25)*100;
}

 float deltaVCE(float VCE75,  float VCE25)
{
	return ((VC75-VC25)/VC25)*100;
}

//alti factori care influenteaza circuitul cu baza polarizata de la VCC

 bool eMultMaiMAre( float a ,  float b ,  float N)
{
	if(a/N>b){ return true;}
	else {return false;}
}

//polarizare emitor din sursa de tensiuen separata
 float VEE( float IB,  float  RB,  float  IE,  float  RE,  float VBE)
{
	return -(IB*RB+ IE*RE + VBE);
}

float IB(float IE, float betacc)
{
return IE/betacc;
}

 float IE( float VBE,  float  VEE,  float RE,  float  RB,  float  betacc)
{
	return (VEE-VBE)/(RE+(RB/betacc));
}

 float VE( float VEE,  float  IE,  float  RE)
{
	return VEE + IE*RE;
}

 float VB( float VE,  float VBB)
{
	return VE+VBB;
}

 float VC( float VCC,  float IC,  float RC)
{
	return VCC-IC*RC;
}

 float VCE( float  VCC,  float VEE,  float IC,  float RC,  float RE)
{
	return VCC - VEE - IC*(RC+RE);
}


 float ICsat( float  VCC,  float  VEE,  float  RC,  float  RE)
{
	return (VCC-VEE)/(RC+RE);
}

 float VCEblocare( float VCC,  float  VEE)
{
	return VCC- VEE;
}

 float deltaICmax( float ICsat,  float IC)
{

return ICsat = IC;
}

//stabilitatea psf al circuitului cu emitor polarizat din sursa separata

 float IE( float VEE,  float  VBE ,  float  RE,  float  RB,  float  betacc)
{
	if(eMultMaiMare(RE,RB/betacc,10)!=true)
	{
		return (-VEE-VBE)/(RE+(Rb/betacc));
	}
	else if(eMultMaiMare(VEE, VBE, 10)==true)
	{
		return VEE/RE;
	}
	else
	{
		return (-VEE-VBE)/RE;
	}
}

//tbj pnp cu emitor polarizat din sursa separata
//pagina 137




